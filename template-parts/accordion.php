<?php

// on va mettre des widget parts ici

?>



<section class="how-it-works">
    <div class="how-it-works__body">
        <div class="how-it-works__body__heading">
            <h2>Comment ça marche ??</h2>
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quos libero deserunt sit praesentium soluta quisquam eveniet ipsum</p>
        </div>
        <div class="how-it-works__body__content">
            <!-- <p>how it works body content</p> -->
            <div class="accordion">
                <div class="accordion__body">  
                    <div class="accordion__body__item">
                        <div class="accordion__body__item__header">
                            <h3>conditions</h3>
                            <button class="trigger">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="">
                                    <path d="M12.7499 7.6105H1.24994C1.10988 7.6105 1 7.47621 1 7.30525C1 7.13429 1.11006 7 1.24994 7H12.7499C12.8899 7 12.9998 7.13429 12.9998 7.30525C12.9998 7.47621 12.8898 7.6105 12.7499 7.6105Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                    <path d="M6.69468 13.0553L6.69468 1.55536C6.69468 1.41529 6.82897 1.30542 6.99993 1.30542C7.17088 1.30542 7.30518 1.41548 7.30518 1.55536L7.30518 13.0553C7.30518 13.1954 7.17088 13.3052 6.99993 13.3052C6.82897 13.3052 6.69468 13.1952 6.69468 13.0553Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="accordion__body__item__body">
                            <p>accordion body item content</p>
                        </div>
                    </div>
                    <div class="accordion__body__item">
                        <div class="accordion__body__item__header">
                            <h3>conditions d'attribution</h3>
                            <button class="trigger">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="">
                                    <path d="M12.7499 7.6105H1.24994C1.10988 7.6105 1 7.47621 1 7.30525C1 7.13429 1.11006 7 1.24994 7H12.7499C12.8899 7 12.9998 7.13429 12.9998 7.30525C12.9998 7.47621 12.8898 7.6105 12.7499 7.6105Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                    <path d="M6.69468 13.0553L6.69468 1.55536C6.69468 1.41529 6.82897 1.30542 6.99993 1.30542C7.17088 1.30542 7.30518 1.41548 7.30518 1.55536L7.30518 13.0553C7.30518 13.1954 7.17088 13.3052 6.99993 13.3052C6.82897 13.3052 6.69468 13.1952 6.69468 13.0553Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="accordion__body__item__body">
                        <p>accordion body item content</p>
                        </div>
                    </div>
                    <div class="accordion__body__item">
                        <div class="accordion__body__item__header">
                            <h3>offres promotionnelles</h3>
                            <button class="trigger">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="">
                                    <path d="M12.7499 7.6105H1.24994C1.10988 7.6105 1 7.47621 1 7.30525C1 7.13429 1.11006 7 1.24994 7H12.7499C12.8899 7 12.9998 7.13429 12.9998 7.30525C12.9998 7.47621 12.8898 7.6105 12.7499 7.6105Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                    <path d="M6.69468 13.0553L6.69468 1.55536C6.69468 1.41529 6.82897 1.30542 6.99993 1.30542C7.17088 1.30542 7.30518 1.41548 7.30518 1.55536L7.30518 13.0553C7.30518 13.1954 7.17088 13.3052 6.99993 13.3052C6.82897 13.3052 6.69468 13.1952 6.69468 13.0553Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="accordion__body__item__body">
                        <p>accordion body item content</p>
                        </div>
                    </div>
                    <div class="accordion__body__item">
                        <div class="accordion__body__item__header">
                            <h3>accessoires offerts</h2>
                            <button class="trigger">
                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="">
                                    <path d="M12.7499 7.6105H1.24994C1.10988 7.6105 1 7.47621 1 7.30525C1 7.13429 1.11006 7 1.24994 7H12.7499C12.8899 7 12.9998 7.13429 12.9998 7.30525C12.9998 7.47621 12.8898 7.6105 12.7499 7.6105Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                    <path d="M6.69468 13.0553L6.69468 1.55536C6.69468 1.41529 6.82897 1.30542 6.99993 1.30542C7.17088 1.30542 7.30518 1.41548 7.30518 1.55536L7.30518 13.0553C7.30518 13.1954 7.17088 13.3052 6.99993 13.3052C6.82897 13.3052 6.69468 13.1952 6.69468 13.0553Z" fill="#EEEFF3" stroke="white" stroke-miterlimit="16" stroke-linecap="square"></path>
                                </svg>
                            </button>
                        </div>
                        <div class="accordion__body__item__body">
                            <p>accordion body item content</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script type="text/javascript">

    // declarations variables

let allAccordionsHeader,allAccordionsBody;

// recuperer tous les accordeons du DOM

allAccordionsBody = document.querySelectorAll('.accordion__body__item__body');
allAccordionsHeader = document.querySelectorAll('.accordion__body__item__header');

const handleAccordionHeaderAction = () => {


    allAccordionsHeader.forEach((e) => {
        e.addEventListener('click',function(){
            let sibling = e.nextElementSibling;
            let trigger = e.children[1].children[0];

            //pour tous les body -> si le body a la classe --open, c'est l'element actif
            // on regarde si le sibling de cet element a la class --open
            if(sibling.classList.contains('--open')){
                sibling.classList.remove('--open');
                trigger.classList.toggle('rotate');
            }
            else{
                // dans le cas contraire ce n'est pas l'élément actif , on ferme tous les autres avant d'ouvrir cet élément
                allAccordionsBody.forEach((b)=>{
                    b.classList.remove('--open');
                    // on toggle le trigger de tous les autres
                    let otherTriggers = b.parentElement.children[0].children[1].children[0];
                    otherTriggers.classList.remove('rotate');
                })
                sibling.classList.add('--open');
                trigger.classList.toggle('rotate');
            }

            


        })
    })

}

window.addEventListener('DOMContentLoaded', (event) => {
    handleAccordionHeaderAction();
});

</script>